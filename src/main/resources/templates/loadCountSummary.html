<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:remove="all">Template for HTML email with inline image</title>
    </meta>
</head>
<body>
<p>Hi,</p>
<p>The following tables are summaries of the load counts for Murphys Road. More details are available in the spreadsheet attached.</p>
<p>Load counts by machine: </p>
<table border="1" style="border-collapse: collapse;">
    <thead>
        <tr>
            <th width="80">Machine</th>
            <th width="80">Load Type</th>
            <th width="80">Load Count</th>
            <th width="80">Volume (m<sup>3</sup>)</th>
            <th width="80">Time (minutes)</th>
            <th width="80">Cost</th>
            <th width="80">Revenue</th>
            <th width="80">Profit</th>
        </tr>
    </thead>
    <tbody>
    <tr th:each="entry : ${summaryByMachine}">
        <td th:text="${entry.equipment}" align="center">DT5</td>
        <td th:text="${entry.loadType}" align="center">Top Soil</td>
        <td th:text="${entry.loadCount}" align="center">20</td>
        <td th:text="${entry.volume}" align="center">200</td>
        <td th:text="${entry.duration}" align="center">3.5</td>
        <td th:text="${entry.cost} % 1 == 0? ${entry.cost} :${#numbers.formatDecimal(entry.cost, 0, 2)}" align="center">
            350
        </td>
        <td th:text="${entry.revenue}" align="center">400</td>
        <td th:text="${entry.profit} % 1 == 0? ${entry.profit} :${#numbers.formatDecimal(entry.profit, 0, 2)}"
            align="center">50
        </td>
    </tr>
    </tbody>
</table>

<p>Load counts by load type: </p>
<table border="1" style="border-collapse: collapse;">
    <thead>
        <tr>
            <th width="80">Load Type</th>
            <th width="80">Machine</th>
            <th width="80">Load Count</th>
            <th width="80">Volume (m<sup>3</sup>)</th>
            <th width="80">Time (minutes)</th>
            <th width="80">Cost</th>
            <th width="80">Revenue</th>
            <th width="80">Profit</th>
        </tr>
    </thead>
    <tbody>
    <tr th:each="entry : ${summaryByLoadType}">
        <td th:text="${entry.loadType}" align="center">Top Soil</td>
        <td th:text="${entry.equipment}" align="center">DT5</td>
        <td th:text="${entry.loadCount}" align="center">20</td>
        <td th:text="${entry.volume}" align="center">200</td>
        <td th:text="${entry.duration}" align="center">3.5</td>
        <td th:text="${entry.cost} % 1 == 0? ${entry.cost} :${#numbers.formatDecimal(entry.cost, 0, 2)}" align="center">
            350
        </td>
        <td th:text="${entry.revenue}" align="center">400</td>
        <td th:text="${entry.profit} % 1 == 0? ${entry.profit} :${#numbers.formatDecimal(entry.profit, 0, 2)}"
            align="center">50
        </td>
    </tr>
    </tbody>
</table>

<p>Thank you.</p>
</body>
</html>